/**
 * @file    sprites.c
 * @brief   Number and letter tiles for Clicker
 * @game    clicker
 * 
 * Simple 8x8 font tiles for score display.
 */

#include <gb/gb.h>
#include <stdint.h>
#include "sprites.h"

// ============================================================
// DIGIT TILES (0-9)
// ============================================================

const uint8_t digit_tiles[] = {
    // 0
    0x3C, 0x3C, 0x66, 0x66, 0x6E, 0x6E, 0x76, 0x76,
    0x66, 0x66, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00,
    // 1
    0x18, 0x18, 0x38, 0x38, 0x18, 0x18, 0x18, 0x18,
    0x18, 0x18, 0x18, 0x18, 0x7E, 0x7E, 0x00, 0x00,
    // 2
    0x3C, 0x3C, 0x66, 0x66, 0x06, 0x06, 0x1C, 0x1C,
    0x30, 0x30, 0x60, 0x60, 0x7E, 0x7E, 0x00, 0x00,
    // 3
    0x3C, 0x3C, 0x66, 0x66, 0x06, 0x06, 0x1C, 0x1C,
    0x06, 0x06, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00,
    // 4
    0x0C, 0x0C, 0x1C, 0x1C, 0x3C, 0x3C, 0x6C, 0x6C,
    0x7E, 0x7E, 0x0C, 0x0C, 0x0C, 0x0C, 0x00, 0x00,
    // 5
    0x7E, 0x7E, 0x60, 0x60, 0x7C, 0x7C, 0x06, 0x06,
    0x06, 0x06, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00,
    // 6
    0x1C, 0x1C, 0x30, 0x30, 0x60, 0x60, 0x7C, 0x7C,
    0x66, 0x66, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00,
    // 7
    0x7E, 0x7E, 0x06, 0x06, 0x0C, 0x0C, 0x18, 0x18,
    0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x00, 0x00,
    // 8
    0x3C, 0x3C, 0x66, 0x66, 0x66, 0x66, 0x3C, 0x3C,
    0x66, 0x66, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00,
    // 9
    0x3C, 0x3C, 0x66, 0x66, 0x66, 0x66, 0x3E, 0x3E,
    0x06, 0x06, 0x0C, 0x0C, 0x38, 0x38, 0x00, 0x00
};

// ============================================================
// LETTER TILES
// ============================================================

const uint8_t letter_c[] = {
    0x3C, 0x3C, 0x66, 0x66, 0x60, 0x60, 0x60, 0x60,
    0x60, 0x60, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00
};

const uint8_t letter_o[] = {
    0x3C, 0x3C, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66,
    0x66, 0x66, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00
};

const uint8_t letter_u[] = {
    0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66,
    0x66, 0x66, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00
};

const uint8_t letter_n[] = {
    0x66, 0x66, 0x76, 0x76, 0x7E, 0x7E, 0x7E, 0x7E,
    0x6E, 0x6E, 0x66, 0x66, 0x66, 0x66, 0x00, 0x00
};

const uint8_t letter_t[] = {
    0x7E, 0x7E, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
    0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x00, 0x00
};

const uint8_t letter_h[] = {
    0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x7E, 0x7E,
    0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x00, 0x00
};

const uint8_t letter_i[] = {
    0x7E, 0x7E, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
    0x18, 0x18, 0x18, 0x18, 0x7E, 0x7E, 0x00, 0x00
};

const uint8_t letter_g[] = {
    0x3C, 0x3C, 0x66, 0x66, 0x60, 0x60, 0x6E, 0x6E,
    0x66, 0x66, 0x66, 0x66, 0x3E, 0x3E, 0x00, 0x00
};

// Blank tile (all zeros)
const uint8_t blank_tile[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

// ============================================================
// INITIALIZATION
// ============================================================

void sprites_init(void) {
    uint8_t x, y;
    
    // Load blank tile first
    set_bkg_data(TILE_BLANK, 1, blank_tile);
    
    // Clear entire visible screen with blank tiles
    for (y = 0; y < 18; y++) {
        for (x = 0; x < 20; x++) {
            set_bkg_tile_xy(x, y, TILE_BLANK);
        }
    }
    
    // Load digit tiles (0-9)
    set_bkg_data(TILE_DIGIT_0, 10, digit_tiles);
    
    // Load letter tiles
    set_bkg_data(TILE_C, 1, letter_c);
    set_bkg_data(TILE_O, 1, letter_o);
    set_bkg_data(TILE_U, 1, letter_u);
    set_bkg_data(TILE_N, 1, letter_n);
    set_bkg_data(TILE_T, 1, letter_t);
    set_bkg_data(TILE_H, 1, letter_h);
    set_bkg_data(TILE_I, 1, letter_i);
    set_bkg_data(TILE_G, 1, letter_g);
    
    // Draw static labels "COUNT" at row 6
    set_bkg_tile_xy(6, 6, TILE_C);
    set_bkg_tile_xy(7, 6, TILE_O);
    set_bkg_tile_xy(8, 6, TILE_U);
    set_bkg_tile_xy(9, 6, TILE_N);
    set_bkg_tile_xy(10, 6, TILE_T);
    
    // Draw static label "HIGH" at row 11
    set_bkg_tile_xy(7, 11, TILE_H);
    set_bkg_tile_xy(8, 11, TILE_I);
    set_bkg_tile_xy(9, 11, TILE_G);
    set_bkg_tile_xy(10, 11, TILE_H);
    
    // Draw initial zeros for count (row 8)
    set_bkg_tile_xy(7, 8, TILE_DIGIT_0);
    set_bkg_tile_xy(8, 8, TILE_DIGIT_0);
    set_bkg_tile_xy(9, 8, TILE_DIGIT_0);
    set_bkg_tile_xy(10, 8, TILE_DIGIT_0);
    
    // Draw initial zeros for high score (row 13)
    set_bkg_tile_xy(7, 13, TILE_DIGIT_0);
    set_bkg_tile_xy(8, 13, TILE_DIGIT_0);
    set_bkg_tile_xy(9, 13, TILE_DIGIT_0);
    set_bkg_tile_xy(10, 13, TILE_DIGIT_0);
}
