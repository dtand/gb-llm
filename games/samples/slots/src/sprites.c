#include <gb/gb.h>
#include "sprites.h"

// Tile data - 8x8 pixels, 2bpp (16 bytes per tile)
const unsigned char tile_data[] = {
    // Tile 0: Empty
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    
    // Tiles 1-4: Cherry (2x2)
    // TL
    0x00, 0x00, 0x03, 0x03, 0x06, 0x06, 0x0C, 0x0C,
    0x18, 0x18, 0x30, 0x30, 0x30, 0x30, 0x38, 0x38,
    // TR
    0x00, 0x00, 0xC0, 0xC0, 0x60, 0x60, 0x30, 0x30,
    0x18, 0x18, 0x0C, 0x0C, 0x0C, 0x0C, 0x1C, 0x1C,
    // BL
    0x7C, 0x7C, 0x7E, 0x7E, 0x7E, 0x7E, 0x3C, 0x3C,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    // BR
    0x3E, 0x3E, 0x7E, 0x7E, 0x7E, 0x7E, 0x3C, 0x3C,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    
    // Tiles 5-8: Bell (2x2)
    // TL
    0x00, 0x00, 0x00, 0x00, 0x0F, 0x0F, 0x1F, 0x1F,
    0x3F, 0x3F, 0x3F, 0x3F, 0x3F, 0x3F, 0x3F, 0x3F,
    // TR
    0x00, 0x00, 0x00, 0x00, 0xF0, 0xF0, 0xF8, 0xF8,
    0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC,
    // BL
    0x7F, 0x7F, 0x7F, 0x7F, 0x00, 0x00, 0x0C, 0x0C,
    0x0C, 0x0C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    // BR
    0xFE, 0xFE, 0xFE, 0xFE, 0x00, 0x00, 0x30, 0x30,
    0x30, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    
    // Tiles 9-12: BAR (2x2)
    // TL
    0x00, 0x00, 0x7F, 0x7F, 0x7F, 0x7F, 0x63, 0x7F,
    0x7F, 0x7F, 0x63, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F,
    // TR
    0x00, 0x00, 0xFE, 0xFE, 0xFE, 0xFE, 0x86, 0xFE,
    0xFE, 0xFE, 0x86, 0xFE, 0xFE, 0xFE, 0xFE, 0xFE,
    // BL
    0x7F, 0x7F, 0x7F, 0x7F, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    // BR
    0xFE, 0xFE, 0xFE, 0xFE, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    
    // Tiles 13-16: Seven (2x2)
    // TL
    0x00, 0x00, 0x3F, 0x3F, 0x3F, 0x3F, 0x03, 0x03,
    0x03, 0x03, 0x06, 0x06, 0x0C, 0x0C, 0x0C, 0x0C,
    // TR
    0x00, 0x00, 0xFC, 0xFC, 0xFC, 0xFC, 0x30, 0x30,
    0x60, 0x60, 0xC0, 0xC0, 0x80, 0x80, 0x00, 0x00,
    // BL
    0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    // BR
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    
    // Tiles 17-20: Star (2x2)
    // TL
    0x00, 0x00, 0x00, 0x00, 0x06, 0x06, 0x06, 0x06,
    0x06, 0x06, 0x7F, 0x7F, 0x3F, 0x3F, 0x1E, 0x1E,
    // TR
    0x00, 0x00, 0x00, 0x00, 0x60, 0x60, 0x60, 0x60,
    0x60, 0x60, 0xFE, 0xFE, 0xFC, 0xFC, 0x78, 0x78,
    // BL
    0x3F, 0x3F, 0x37, 0x37, 0x63, 0x63, 0x41, 0x41,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    // BR
    0xFC, 0xFC, 0xEC, 0xEC, 0xC6, 0xC6, 0x82, 0x82,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    
    // Tiles 21-27: Box UI elements
    // TL corner
    0xFF, 0xFF, 0x80, 0xFF, 0x80, 0xFF, 0x80, 0xFF,
    0x80, 0xFF, 0x80, 0xFF, 0x80, 0xFF, 0x80, 0xFF,
    // TR corner
    0xFF, 0xFF, 0x01, 0xFF, 0x01, 0xFF, 0x01, 0xFF,
    0x01, 0xFF, 0x01, 0xFF, 0x01, 0xFF, 0x01, 0xFF,
    // BL corner
    0x80, 0xFF, 0x80, 0xFF, 0x80, 0xFF, 0x80, 0xFF,
    0x80, 0xFF, 0x80, 0xFF, 0x80, 0xFF, 0xFF, 0xFF,
    // BR corner
    0x01, 0xFF, 0x01, 0xFF, 0x01, 0xFF, 0x01, 0xFF,
    0x01, 0xFF, 0x01, 0xFF, 0x01, 0xFF, 0xFF, 0xFF,
    // Horizontal edge
    0xFF, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF,
    0x00, 0xFF, 0x00, 0xFF, 0x00, 0xFF, 0xFF, 0xFF,
    // Vertical edge
    0x81, 0xFF, 0x81, 0xFF, 0x81, 0xFF, 0x81, 0xFF,
    0x81, 0xFF, 0x81, 0xFF, 0x81, 0xFF, 0x81, 0xFF,
    // Fill
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    
    // Tile 28: S
    0x00, 0x00, 0x3E, 0x3E, 0x60, 0x60, 0x3C, 0x3C,
    0x06, 0x06, 0x06, 0x06, 0x7C, 0x7C, 0x00, 0x00,
    // Tile 29: L
    0x00, 0x00, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60,
    0x60, 0x60, 0x60, 0x60, 0x7E, 0x7E, 0x00, 0x00,
    // Tile 30: O
    0x00, 0x00, 0x3C, 0x3C, 0x66, 0x66, 0x66, 0x66,
    0x66, 0x66, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00,
    // Tile 31: T
    0x00, 0x00, 0x7E, 0x7E, 0x18, 0x18, 0x18, 0x18,
    0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x00, 0x00,
    // Tile 32: C
    0x00, 0x00, 0x3C, 0x3C, 0x66, 0x66, 0x60, 0x60,
    0x60, 0x60, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00,
    // Tile 33: I
    0x00, 0x00, 0x7E, 0x7E, 0x18, 0x18, 0x18, 0x18,
    0x18, 0x18, 0x18, 0x18, 0x7E, 0x7E, 0x00, 0x00,
    // Tile 34: N
    0x00, 0x00, 0x63, 0x63, 0x73, 0x73, 0x7B, 0x7B,
    0x6F, 0x6F, 0x67, 0x67, 0x63, 0x63, 0x00, 0x00,
    // Tile 35: W
    0x00, 0x00, 0xC3, 0xC3, 0xC3, 0xC3, 0xDB, 0xDB,
    0xDB, 0xDB, 0xFF, 0xFF, 0x66, 0x66, 0x00, 0x00,
    // Tile 36: P
    0x00, 0x00, 0x7C, 0x7C, 0x66, 0x66, 0x66, 0x66,
    0x7C, 0x7C, 0x60, 0x60, 0x60, 0x60, 0x00, 0x00,
    // Tile 37: R
    0x00, 0x00, 0x7C, 0x7C, 0x66, 0x66, 0x66, 0x66,
    0x7C, 0x7C, 0x6C, 0x6C, 0x66, 0x66, 0x00, 0x00,
    // Tile 38: E
    0x00, 0x00, 0x7E, 0x7E, 0x60, 0x60, 0x7C, 0x7C,
    0x60, 0x60, 0x60, 0x60, 0x7E, 0x7E, 0x00, 0x00,
    // Tile 39: A
    0x00, 0x00, 0x3C, 0x3C, 0x66, 0x66, 0x66, 0x66,
    0x7E, 0x7E, 0x66, 0x66, 0x66, 0x66, 0x00, 0x00,
    // Tile 40: Colon
    0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0x18, 0x18,
    0x00, 0x00, 0x18, 0x18, 0x18, 0x18, 0x00, 0x00,
    // Tile 41: Exclamation
    0x00, 0x00, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
    0x18, 0x18, 0x00, 0x00, 0x18, 0x18, 0x00, 0x00,
    // Tile 42: B
    0x00, 0x00, 0x7C, 0x7C, 0x66, 0x66, 0x7C, 0x7C,
    0x66, 0x66, 0x66, 0x66, 0x7C, 0x7C, 0x00, 0x00,
    // Tile 43: D
    0x00, 0x00, 0x78, 0x78, 0x6C, 0x6C, 0x66, 0x66,
    0x66, 0x66, 0x6C, 0x6C, 0x78, 0x78, 0x00, 0x00,
    
    // Tiles 44-53: Numbers 0-9
    // 0
    0x00, 0x00, 0x3C, 0x3C, 0x66, 0x66, 0x6E, 0x6E,
    0x76, 0x76, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00,
    // 1
    0x00, 0x00, 0x18, 0x18, 0x38, 0x38, 0x18, 0x18,
    0x18, 0x18, 0x18, 0x18, 0x7E, 0x7E, 0x00, 0x00,
    // 2
    0x00, 0x00, 0x3C, 0x3C, 0x66, 0x66, 0x0C, 0x0C,
    0x18, 0x18, 0x30, 0x30, 0x7E, 0x7E, 0x00, 0x00,
    // 3
    0x00, 0x00, 0x3C, 0x3C, 0x66, 0x66, 0x1C, 0x1C,
    0x06, 0x06, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00,
    // 4
    0x00, 0x00, 0x0C, 0x0C, 0x1C, 0x1C, 0x3C, 0x3C,
    0x6C, 0x6C, 0x7E, 0x7E, 0x0C, 0x0C, 0x00, 0x00,
    // 5
    0x00, 0x00, 0x7E, 0x7E, 0x60, 0x60, 0x7C, 0x7C,
    0x06, 0x06, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00,
    // 6
    0x00, 0x00, 0x3C, 0x3C, 0x60, 0x60, 0x7C, 0x7C,
    0x66, 0x66, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00,
    // 7
    0x00, 0x00, 0x7E, 0x7E, 0x06, 0x06, 0x0C, 0x0C,
    0x18, 0x18, 0x30, 0x30, 0x30, 0x30, 0x00, 0x00,
    // 8
    0x00, 0x00, 0x3C, 0x3C, 0x66, 0x66, 0x3C, 0x3C,
    0x66, 0x66, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00,
    // 9
    0x00, 0x00, 0x3C, 0x3C, 0x66, 0x66, 0x66, 0x66,
    0x3E, 0x3E, 0x06, 0x06, 0x3C, 0x3C, 0x00, 0x00
};

// Symbol tile offsets (first tile of each 2x2 symbol)
const uint8_t symbol_tiles[] = {
    TILE_CHERRY_TL,
    TILE_BELL_TL,
    TILE_BAR_TL,
    TILE_SEVEN_TL,
    TILE_STAR_TL
};

void init_tiles(void) {
    set_bkg_data(0, 54, tile_data);
}

void draw_symbol(uint8_t symbol, uint8_t x, uint8_t y) {
    uint8_t base = symbol_tiles[symbol];
    set_bkg_tile_xy(x, y, base);
    set_bkg_tile_xy(x + 1, y, base + 1);
    set_bkg_tile_xy(x, y + 1, base + 2);
    set_bkg_tile_xy(x + 1, y + 1, base + 3);
}
