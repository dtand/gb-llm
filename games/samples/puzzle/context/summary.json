{
  "project_id": "sample-puzzle",
  "project_name": "puzzle",
  "description": "Falling block puzzle demonstrating grid systems and line clearing",
  "template_source": null,
  "template_name": null,
  "current_state": "refined",
  "features": {
    "from_template": [],
    "added": [
      "grid_system",
      "piece_rotation",
      "line_clearing",
      "collision_grid",
      "rng"
    ],
    "planned": []
  },
  "files": [
    {
      "path": "src/game.c",
      "description": "Core game logic for Falling Block Puzzle",
      "structs": [],
      "functions": [
        {
          "name": "game_init",
          "return_type": "void",
          "parameters": [
            "void"
          ],
          "description": "",
          "line_start": 302,
          "line_end": 339
        },
        {
          "name": "game_handle_input",
          "return_type": "void",
          "parameters": [
            "void"
          ],
          "description": "",
          "line_start": 348,
          "line_end": 398
        },
        {
          "name": "game_update",
          "return_type": "void",
          "parameters": [
            "void"
          ],
          "description": "",
          "line_start": 407,
          "line_end": 426
        },
        {
          "name": "game_render",
          "return_type": "void",
          "parameters": [
            "void"
          ],
          "description": "",
          "line_start": 435,
          "line_end": 484
        }
      ],
      "constants": [],
      "includes": [
        "gb/gb.h",
        "stdint.h",
        "game.h",
        "sprites.h"
      ],
      "lines": 485
    },
    {
      "path": "src/main.c",
      "description": "Entry point for Falling Block Puzzle game",
      "structs": [],
      "functions": [
        {
          "name": "main",
          "return_type": "void",
          "parameters": [
            "void"
          ],
          "description": "",
          "line_start": 21,
          "line_end": 42
        }
      ],
      "constants": [],
      "includes": [
        "gb/gb.h",
        "stdint.h",
        "game.h",
        "sprites.h"
      ],
      "lines": 43
    },
    {
      "path": "src/sprites.c",
      "description": "Tile data and initialization for Falling Block Puzzle",
      "structs": [],
      "functions": [
        {
          "name": "sprites_init",
          "return_type": "void",
          "parameters": [
            "void"
          ],
          "description": "",
          "line_start": 46,
          "line_end": 51
        }
      ],
      "constants": [],
      "includes": [
        "gb/gb.h",
        "stdint.h",
        "sprites.h"
      ],
      "lines": 52
    },
    {
      "path": "src/game.h",
      "description": "Game state and constants for Falling Block Puzzle",
      "structs": [
        {
          "name": "Piece",
          "fields": [
            {
              "name": "type",
              "type": "uint8_t",
              "comment": "Piece type (0-6)"
            },
            {
              "name": "rotation",
              "type": "uint8_t",
              "comment": "Rotation state (0-3)"
            },
            {
              "name": "x",
              "type": "int8_t",
              "comment": "Grid X position"
            },
            {
              "name": "y",
              "type": "int8_t",
              "comment": "Grid Y position"
            }
          ],
          "description": "",
          "line_start": 46,
          "line_end": 51
        },
        {
          "name": "GameState",
          "fields": [
            {
              "name": "current",
              "type": "Piece",
              "comment": "Next piece preview"
            },
            {
              "name": "next_piece",
              "type": "uint8_t",
              "comment": "Timing"
            },
            {
              "name": "drop_timer",
              "type": "uint8_t",
              "comment": ""
            },
            {
              "name": "drop_speed",
              "type": "uint8_t",
              "comment": "Score"
            },
            {
              "name": "score",
              "type": "uint16_t",
              "comment": ""
            },
            {
              "name": "lines",
              "type": "uint16_t",
              "comment": "State"
            },
            {
              "name": "game_over",
              "type": "uint8_t",
              "comment": ""
            },
            {
              "name": "needs_redraw",
              "type": "uint8_t",
              "comment": "Previous piece position for flicker-free rendering"
            },
            {
              "name": "prev_x",
              "type": "int8_t",
              "comment": ""
            },
            {
              "name": "prev_y",
              "type": "int8_t",
              "comment": ""
            },
            {
              "name": "prev_type",
              "type": "uint8_t",
              "comment": ""
            },
            {
              "name": "prev_rotation",
              "type": "uint8_t",
              "comment": ""
            }
          ],
          "description": "",
          "line_start": 56,
          "line_end": 83
        }
      ],
      "functions": [],
      "constants": [
        {
          "name": "GRID_WIDTH",
          "value": "10",
          "comment": ""
        },
        {
          "name": "GRID_HEIGHT",
          "value": "18",
          "comment": "Screen is 18 tiles tall (144px / 8)"
        },
        {
          "name": "GRID_OFFSET_X",
          "value": "5",
          "comment": "Center the 10-wide grid on 20-wide screen"
        },
        {
          "name": "GRID_OFFSET_Y",
          "value": "0",
          "comment": "Piece types"
        },
        {
          "name": "PIECE_I",
          "value": "0",
          "comment": ""
        },
        {
          "name": "PIECE_O",
          "value": "1",
          "comment": ""
        },
        {
          "name": "PIECE_T",
          "value": "2",
          "comment": ""
        },
        {
          "name": "PIECE_S",
          "value": "3",
          "comment": ""
        },
        {
          "name": "PIECE_Z",
          "value": "4",
          "comment": ""
        },
        {
          "name": "PIECE_L",
          "value": "5",
          "comment": ""
        },
        {
          "name": "PIECE_J",
          "value": "6",
          "comment": ""
        },
        {
          "name": "NUM_PIECES",
          "value": "7",
          "comment": "Timing (in frames)"
        },
        {
          "name": "DROP_SPEED_NORMAL",
          "value": "30",
          "comment": "Frames between drops"
        },
        {
          "name": "DROP_SPEED_FAST",
          "value": "3",
          "comment": "Fast drop speed"
        }
      ],
      "includes": [
        "gb/gb.h",
        "stdint.h"
      ],
      "lines": 99
    },
    {
      "path": "src/sprites.h",
      "description": "Tile declarations for Falling Block Puzzle",
      "structs": [],
      "functions": [],
      "constants": [
        {
          "name": "TILE_EMPTY",
          "value": "0",
          "comment": "Empty cell"
        },
        {
          "name": "TILE_BLOCK",
          "value": "1",
          "comment": "Locked block"
        },
        {
          "name": "TILE_ACTIVE",
          "value": "2",
          "comment": "Current falling piece"
        },
        {
          "name": "TILE_WALL",
          "value": "3",
          "comment": "Border wall"
        }
      ],
      "includes": [
        "gb/gb.h",
        "stdint.h"
      ],
      "lines": 29
    }
  ],
  "patterns": [
    "state_machine",
    "tiles"
  ],
  "known_issues": [],
  "last_build_success": true,
  "last_build_error": null,
  "rom_size_bytes": 32768,
  "created_at": "2026-01-22T10:41:46.993399",
  "last_updated": "2026-01-22T10:41:46.993400",
  "summary_generated_at": "2026-01-22T10:41:46.993401"
}