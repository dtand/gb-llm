/**
 * @file    sprites.c
 * @brief   Tile data and initialization for Memory Card Game
 * @game    memory
 */

#include <gb/gb.h>
#include <stdint.h>
#include "sprites.h"

// ============================================================
// TILE DATA
// ============================================================

/** Empty tile */
const uint8_t empty_tile[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

/** Card back - checkerboard pattern */
const uint8_t card_back_tile[] = {
    0xFF, 0xFF, 0xAA, 0xFF, 0x55, 0xFF, 0xAA, 0xFF,
    0x55, 0xFF, 0xAA, 0xFF, 0x55, 0xFF, 0xFF, 0xFF
};

/** Star symbol */
const uint8_t card_star_tile[] = {
    0xFF, 0xFF, 0xE7, 0xFF, 0xE7, 0xFF, 0x81, 0xFF,
    0xC3, 0xFF, 0xE7, 0xFF, 0xA5, 0xFF, 0xFF, 0xFF
};

/** Heart symbol */
const uint8_t card_heart_tile[] = {
    0xFF, 0xFF, 0x99, 0xFF, 0x00, 0xFF, 0x00, 0xFF,
    0x00, 0xFF, 0x81, 0xFF, 0xC3, 0xFF, 0xFF, 0xFF
};

/** Diamond symbol */
const uint8_t card_diamond_tile[] = {
    0xFF, 0xFF, 0xE7, 0xFF, 0xC3, 0xFF, 0x81, 0xFF,
    0xC3, 0xFF, 0xE7, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

/** Club symbol */
const uint8_t card_club_tile[] = {
    0xFF, 0xFF, 0xE7, 0xFF, 0xC3, 0xFF, 0x99, 0xFF,
    0xC3, 0xFF, 0xE7, 0xFF, 0xC3, 0xFF, 0xFF, 0xFF
};

/** Moon symbol */
const uint8_t card_moon_tile[] = {
    0xFF, 0xFF, 0xCF, 0xFF, 0x87, 0xFF, 0x87, 0xFF,
    0x87, 0xFF, 0xCF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

/** Sun symbol */
const uint8_t card_sun_tile[] = {
    0xFF, 0xFF, 0xA5, 0xFF, 0xDB, 0xFF, 0x81, 0xFF,
    0xDB, 0xFF, 0xA5, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

/** Lightning bolt symbol */
const uint8_t card_bolt_tile[] = {
    0xFF, 0xFF, 0xF1, 0xFF, 0xE3, 0xFF, 0x81, 0xFF,
    0xC7, 0xFF, 0x8F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
};

/** Skull symbol */
const uint8_t card_skull_tile[] = {
    0xFF, 0xFF, 0xC3, 0xFF, 0x99, 0xFF, 0x99, 0xFF,
    0xC3, 0xFF, 0xE7, 0xFF, 0xDB, 0xFF, 0xFF, 0xFF
};

/** Matched/cleared card - light fill */
const uint8_t card_matched_tile[] = {
    0xFF, 0x00, 0x81, 0x00, 0x81, 0x00, 0x81, 0x00,
    0x81, 0x00, 0x81, 0x00, 0x81, 0x00, 0xFF, 0x00
};

/** Cursor corners */
const uint8_t cursor_tl_tile[] = {
    0xF0, 0xF0, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

const uint8_t cursor_tr_tile[] = {
    0x0F, 0x0F, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

const uint8_t cursor_bl_tile[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x80, 0x00, 0x80, 0x80, 0x80, 0x80, 0xF0, 0xF0
};

const uint8_t cursor_br_tile[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x01, 0x00, 0x01, 0x01, 0x01, 0x01, 0x0F, 0x0F
};

/** Digit tiles 0-9 */
const uint8_t digit_tiles[] = {
    // 0
    0x3C, 0x3C, 0x66, 0x66, 0x6E, 0x6E, 0x76, 0x76,
    0x66, 0x66, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00,
    // 1
    0x18, 0x18, 0x38, 0x38, 0x18, 0x18, 0x18, 0x18,
    0x18, 0x18, 0x18, 0x18, 0x7E, 0x7E, 0x00, 0x00,
    // 2
    0x3C, 0x3C, 0x66, 0x66, 0x06, 0x06, 0x1C, 0x1C,
    0x30, 0x30, 0x60, 0x60, 0x7E, 0x7E, 0x00, 0x00,
    // 3
    0x3C, 0x3C, 0x66, 0x66, 0x06, 0x06, 0x1C, 0x1C,
    0x06, 0x06, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00,
    // 4
    0x0C, 0x0C, 0x1C, 0x1C, 0x3C, 0x3C, 0x6C, 0x6C,
    0x7E, 0x7E, 0x0C, 0x0C, 0x0C, 0x0C, 0x00, 0x00,
    // 5
    0x7E, 0x7E, 0x60, 0x60, 0x7C, 0x7C, 0x06, 0x06,
    0x06, 0x06, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00,
    // 6
    0x1C, 0x1C, 0x30, 0x30, 0x60, 0x60, 0x7C, 0x7C,
    0x66, 0x66, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00,
    // 7
    0x7E, 0x7E, 0x06, 0x06, 0x0C, 0x0C, 0x18, 0x18,
    0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x00, 0x00,
    // 8
    0x3C, 0x3C, 0x66, 0x66, 0x66, 0x66, 0x3C, 0x3C,
    0x66, 0x66, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00,
    // 9
    0x3C, 0x3C, 0x66, 0x66, 0x66, 0x66, 0x3E, 0x3E,
    0x06, 0x06, 0x0C, 0x0C, 0x38, 0x38, 0x00, 0x00
};

/** Letter tiles */
const uint8_t letter_m_tile[] = {
    0x63, 0x63, 0x77, 0x77, 0x7F, 0x7F, 0x6B, 0x6B,
    0x63, 0x63, 0x63, 0x63, 0x63, 0x63, 0x00, 0x00
};

const uint8_t letter_o_tile[] = {
    0x3C, 0x3C, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66,
    0x66, 0x66, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00
};

const uint8_t letter_v_tile[] = {
    0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66,
    0x66, 0x66, 0x3C, 0x3C, 0x18, 0x18, 0x00, 0x00
};

const uint8_t letter_e_tile[] = {
    0x7E, 0x7E, 0x60, 0x60, 0x60, 0x60, 0x78, 0x78,
    0x60, 0x60, 0x60, 0x60, 0x7E, 0x7E, 0x00, 0x00
};

const uint8_t letter_s_tile[] = {
    0x3C, 0x3C, 0x66, 0x66, 0x60, 0x60, 0x3C, 0x3C,
    0x06, 0x06, 0x66, 0x66, 0x3C, 0x3C, 0x00, 0x00
};

const uint8_t letter_w_tile[] = {
    0x63, 0x63, 0x63, 0x63, 0x63, 0x63, 0x6B, 0x6B,
    0x7F, 0x7F, 0x77, 0x77, 0x63, 0x63, 0x00, 0x00
};

const uint8_t letter_i_tile[] = {
    0x7E, 0x7E, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
    0x18, 0x18, 0x18, 0x18, 0x7E, 0x7E, 0x00, 0x00
};

const uint8_t letter_n_tile[] = {
    0x66, 0x66, 0x76, 0x76, 0x7E, 0x7E, 0x7E, 0x7E,
    0x6E, 0x6E, 0x66, 0x66, 0x66, 0x66, 0x00, 0x00
};

const uint8_t colon_tile[] = {
    0x00, 0x00, 0x18, 0x18, 0x18, 0x18, 0x00, 0x00,
    0x00, 0x00, 0x18, 0x18, 0x18, 0x18, 0x00, 0x00
};

const uint8_t letter_p_tile[] = {
    0x7C, 0x7C, 0x66, 0x66, 0x66, 0x66, 0x7C, 0x7C,
    0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x00, 0x00
};

const uint8_t letter_a_tile[] = {
    0x18, 0x18, 0x3C, 0x3C, 0x66, 0x66, 0x66, 0x66,
    0x7E, 0x7E, 0x66, 0x66, 0x66, 0x66, 0x00, 0x00
};

const uint8_t letter_r_tile[] = {
    0x7C, 0x7C, 0x66, 0x66, 0x66, 0x66, 0x7C, 0x7C,
    0x6C, 0x6C, 0x66, 0x66, 0x66, 0x66, 0x00, 0x00
};

const uint8_t letter_y_tile[] = {
    0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x3C, 0x3C,
    0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x00, 0x00
};

// ============================================================
// INITIALIZATION
// ============================================================

/**
 * @brief   Load all tile data into VRAM
 */
void sprites_init(void) {
    // Load background tiles
    set_bkg_data(TILE_EMPTY, 1, empty_tile);
    set_bkg_data(TILE_CARD_BACK, 1, card_back_tile);
    
    // Card face symbols
    set_bkg_data(TILE_CARD_STAR, 1, card_star_tile);
    set_bkg_data(TILE_CARD_HEART, 1, card_heart_tile);
    set_bkg_data(TILE_CARD_DIAMOND, 1, card_diamond_tile);
    set_bkg_data(TILE_CARD_CLUB, 1, card_club_tile);
    set_bkg_data(TILE_CARD_MOON, 1, card_moon_tile);
    set_bkg_data(TILE_CARD_SUN, 1, card_sun_tile);
    set_bkg_data(TILE_CARD_BOLT, 1, card_bolt_tile);
    set_bkg_data(TILE_CARD_SKULL, 1, card_skull_tile);
    
    // Matched card
    set_bkg_data(TILE_CARD_MATCHED, 1, card_matched_tile);
    
    // Cursor tiles
    set_bkg_data(TILE_CURSOR_TL, 1, cursor_tl_tile);
    set_bkg_data(TILE_CURSOR_TR, 1, cursor_tr_tile);
    set_bkg_data(TILE_CURSOR_BL, 1, cursor_bl_tile);
    set_bkg_data(TILE_CURSOR_BR, 1, cursor_br_tile);
    
    // Digit tiles (10 tiles)
    set_bkg_data(TILE_DIGIT_0, 10, digit_tiles);
    
    // Letter tiles
    set_bkg_data(TILE_M, 1, letter_m_tile);
    set_bkg_data(TILE_O, 1, letter_o_tile);
    set_bkg_data(TILE_V, 1, letter_v_tile);
    set_bkg_data(TILE_E, 1, letter_e_tile);
    set_bkg_data(TILE_S, 1, letter_s_tile);
    set_bkg_data(TILE_W, 1, letter_w_tile);
    set_bkg_data(TILE_I, 1, letter_i_tile);
    set_bkg_data(TILE_N, 1, letter_n_tile);
    set_bkg_data(TILE_COLON, 1, colon_tile);
    set_bkg_data(TILE_P, 1, letter_p_tile);
    set_bkg_data(TILE_A, 1, letter_a_tile);
    set_bkg_data(TILE_R, 1, letter_r_tile);
    set_bkg_data(TILE_Y, 1, letter_y_tile);
}
